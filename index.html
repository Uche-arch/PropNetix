<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      property="og:image"
      content="https://propnetix.netlify.app/img/prop.png"
    />
    <title>PropNetix | List & Discover Properties, Props, and More</title>
    <link rel="stylesheet" href="./CSS/new.css" />
    <link rel="stylesheet" href="./CSS/buttons.css" />
    <link rel="stylesheet" href="./CSS/support-btn.css" />
    <link rel="shortcut icon" href="./img/newLogo.png" type="image/x-icon" />
    <!-- Lightbox2 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/css/lightbox.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />

    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-3JPRGKXM50"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-3JPRGKXM50");
    </script>
  </head>
  <body>
    <header>
      <nav>
        <div class="logo">PropNetix</div>
        <div class="buttons">
          <button
            id="signupButton"
            onclick="window.location.href='signup.html';"
            class="signup"
          >
            Register
          </button>
          <button id="LoginButton" onclick="window.location.href='login.html';">
            Log In
          </button>
          <button
            style="display: none"
            id="profileButton"
            onclick="window.location.href='profile.html'"
          >
            <i class="fas fa-user"></i>
          </button>
          <button id="logoutButton" style="display: none" onclick="logout()">
            Log Out
          </button>
          <button id="theme-toggle" aria-label="Toggle theme">
            <i id="theme-icon" class="fas fa-moon"></i>
          </button>
        </div>
      </nav>
    </header>

    <!-- Modal Overlay -->
    <div id="indexModal" class="modal-overlay">
      <div class="modal-content">
        <span class="close-modal"></span>
        <h2>List, Find, and Move Forward</h2>
        <p>
          Agents & landlords can <b>Register</b> to list properties, while
          renters and buyers can browse and discover spaces quickly.
        </p>
        <button id="modalButton">Get Started</button>
      </div>
    </div>

    <div class="fading-line"></div>

    <div id="vanta-bg"></div>

    <div class="showcase">
      <!-- <h1>A Marketplace for <br> EVERYONE</h1> -->
      <p id="mainText">List it | Find it | Enjoy it</p>
      <small id="tagline" class="fade-tagline"
        >Your all-access pass to places, and possibilities ‚Äî in one seamless
        marketplace.</small
      >
      <button onclick="window.location.href='all.html';">
        Browse all listings &rarr;
      </button>
    </div>

    <!-- <section>
      Supporters Button
      <button id="supporters-btn"><i class="fas fa-users"></i></button>

      Supporters List Panel
      <div id="supporters-panel">
        <h6 style="margin-bottom: 6px">Those who kept this going ‚ù§Ô∏è</h6>
        <div class="supporter">
          <a
            href="./img/sammynatty.jpg"
            data-lightbox="supporters"
            data-title="Sammy Natty"
          >
            <img src="./img/sammynatty.jpg" alt="Sammy" />
          </a>
          <span>Sammy Natty</span>
        </div>
        <div class="supporter">
          <a
            href="./img/brownwebimage.jpeg"
            data-lightbox="supporters"
            data-title="Ubong Brown"
          >
            <img src="./img/brownwebimage.jpeg" alt="Ubong" />
          </a>
          <span>Ubong Brown</span>
        </div>
        Add more supporters as needed
      </div>
    </section> -->

    <footer>
      <h3>Copyright ¬© 2025 PropNetix Limited. All rights reserved.</h3>
      <p>
        <a href="help.html">Help</a> |
        <a href="terms-condition.html">Terms and Conditions</a> |
        <a href="privacy.html">Privacy Policy</a>
      </p>
    </footer>

    <script></script>

    <!-- Toggle and Outside Click Script -->
    <!-- <script>
      const btn = document.getElementById("supporters-btn");
      const panel = document.getElementById("supporters-panel");

      btn.addEventListener("click", (e) => {
        e.stopPropagation(); // prevent closing immediately when clicking the button
        panel.classList.toggle("active");
      });

      // Hide panel on click outside
      document.addEventListener("click", (e) => {
        if (!panel.contains(e.target) && !btn.contains(e.target)) {
          panel.classList.remove("active");
        }
      });
    </script> -->
    <!-- Lightbox2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/js/lightbox-plus-jquery.min.js"></script>
    <!-- <script src="./JS(üì¢out of bounds)/hide.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.dots.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("indexModal");
        const closeModal = document.querySelector(".close-modal");
        const modalButton = document.getElementById("modalButton");

        // Show modal immediately when page loads
        modal.style.display = "flex";
        document.body.style.overflow = "hidden"; // prevent background scroll

        // Close modal when clicking the X or button
        closeModal.addEventListener("click", () => {
          modal.style.display = "none";
          document.body.style.overflow = "auto";
        });

        modalButton.addEventListener("click", () => {
          modal.style.display = "none";
          document.body.style.overflow = "auto";
        });

        // Optional: close when clicking outside modal
        modal.addEventListener("click", (e) => {
          if (e.target === modal) {
            modal.style.display = "none";
            document.body.style.overflow = "auto";
          }
        });
      });
    </script>
    <script>
      // Above is the modal logic code
      const mainEl = document.getElementById("mainText");
      const taglineEl = document.getElementById("tagline");

      let current = 0;
      const messages = [
        {
          main: "List. Discover. Move.",
          tagline: "Properties made simple for everyone.",
        },
        {
          main: "Post once. Reach everyone.",
          tagline: "Sell faster on PropNetix without the stress.",
        },
        {
          main: "Every Space. One Platform.",
          tagline: "Find or list properties with ease.",
        },
        {
          main: "Your Next Space Awaits.",
          tagline: "Search, browse, and move faster.",
        },
      ];

      function switchText() {
        // Fade out first
        mainEl.style.opacity = 0;
        taglineEl.style.opacity = 0;

        setTimeout(() => {
          // Change text after fade out
          current = (current + 1) % messages.length;
          mainEl.textContent = messages[current].main;
          taglineEl.textContent = messages[current].tagline;

          // Fade in
          mainEl.style.opacity = 1;
          taglineEl.style.opacity = 1;
        }, 800); // duration of fade-out
      }

      // Set interval to switch text
      setInterval(switchText, 5000); // slightly longer than fade duration

      const token = localStorage.getItem("token");

      const signupButton = document.getElementById("signupButton");
      const loginButton = document.getElementById("LoginButton");
      const profileButton = document.getElementById("profileButton");
      const logoutButton = document.getElementById("logoutButton");

      if (token) {
        signupButton.style.display = "none";
        loginButton.style.display = "none";
        profileButton.style.display = "inline-block";
        logoutButton.style.display = "inline-block";
      } else {
        signupButton.style.display = "inline-block";
        loginButton.style.display = "inline-block";
        profileButton.style.display = "none";
        logoutButton.style.display = "none";
      }

      logoutButton.addEventListener("click", function () {
        localStorage.removeItem("token");
        window.location.href = "index.html";
      });

      profileButton.addEventListener("click", function () {
        window.location.href = "profile.html";
      });
    </script>
    <script>
      let vantaEffect = null;

      function initVanta(theme = "dark") {
        const vantaEl = document.getElementById("vanta-bg");

        // Fade out current background
        vantaEl.style.transition = "opacity 0.5s ease";
        vantaEl.style.opacity = 0;

        // Set colors based on theme
        let dotColor, bgColor;
        if (theme === "light") {
          dotColor = 0x666666; // white dots for dark theme
          bgColor = 0x0a0a0a; // black background for dark theme
        } else {
          dotColor = 0x999999; // black dots for light theme
          bgColor = 0xf9f9f9; // white background for light theme
        }

        // Delay for smooth fade-out before reinitializing
        setTimeout(() => {
          if (vantaEffect) vantaEffect.destroy();

          // Initialize Vanta.js with updated colors
          vantaEffect = VANTA.DOTS({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            gyroControls: false,
            minHeight: 200.0,
            minWidth: 200.0,
            scale: 1.0,
            scaleMobile: 1.0,
            color: dotColor, // dynamically set dot color
            backgroundColor: bgColor, // dynamically set background color
            spacing: 65.0,
            showLines: false,
          });

          // Fade back in
          setTimeout(() => {
            vantaEl.style.opacity = 1;
          }, 50); // wait a bit to let Vanta initialize
        }, 250); // wait for fade out
      }

      // Call initVanta based on the stored theme or default to dark
      const savedTheme = localStorage.getItem("theme") || "dark";
      initVanta(savedTheme);

      // Theme toggle functionality
      const icon = document.getElementById("theme-icon");
      const themeBtn = document.getElementById("theme-toggle");
      const body = document.body;

      if (savedTheme === "light") {
        body.classList.add("light");
        icon.className = "fas fa-sun";
      } else {
        icon.className = "fas fa-moon";
      }

      themeBtn.addEventListener("click", () => {
        body.classList.add("enable-transition");

        const isLight = body.classList.toggle("light");
        const currentTheme = isLight ? "light" : "dark";
        localStorage.setItem("theme", currentTheme);
        icon.className = isLight ? "fas fa-sun" : "fas fa-moon";

        // Reinitialize Vanta with the selected theme
        initVanta(currentTheme);

        setTimeout(() => {
          body.classList.remove("enable-transition");
        }, 500);
      });
    </script>
  </body>
</html>
