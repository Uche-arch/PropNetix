<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PropNetix | List & Discover Properties, Props, and More</title>
    <link rel="stylesheet" href="./CSS/new.css" />
    <link rel="stylesheet" href="./CSS/buttons.css" />
    <link rel="stylesheet" href="./CSS/support-btn.css" />
    <link rel="shortcut icon" href="./img/newLogo.png" type="image/x-icon" />
    <!-- Lightbox2 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/css/lightbox.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
  </head>
  <body>
    <header>
      <nav>
        <div class="logo">PropNetix</div>
        <div class="buttons">
          <button
            id="signupButton"
            onclick="window.location.href='signup.html';"
            class="signup"
          >
            Register
          </button>
          <button id="LoginButton" onclick="window.location.href='login.html';">
            Log In
          </button>
          <button
            style="display: none"
            id="profileButton"
            onclick="window.location.href='profile.html'"
          >
            <i class="fas fa-user"></i>
          </button>
          <button id="logoutButton" style="display: none" onclick="logout()">
            Log Out
          </button>
          <button id="theme-toggle" aria-label="Toggle theme">
            <i id="theme-icon" class="fas fa-moon"></i>
          </button>
        </div>
      </nav>
    </header>

    <div class="fading-line"></div>

    <div id="vanta-bg"></div>

    <div class="showcase">
      <!-- <h1>A Marketplace for <br> EVERYONE</h1> -->
      <p>List it | Find it | Enjoy it</p>
      <small id="tagline" class="fade-tagline"
        >Your all-access pass to products, places, and possibilities ‚Äî in one
        seamless marketplace.</small
      >
      <button onclick="window.location.href='all.html';">
        Browse all listings &rarr;
      </button>
    </div>

    <section>
      <!-- Supporters Button -->
      <button id="supporters-btn"><i class="fas fa-users"></i></button>

      <!-- Supporters List Panel -->
      <div id="supporters-panel">
        <h6 style="margin-bottom: 6px">Those who kept this going ‚ù§Ô∏è</h6>
        <div class="supporter">
          <a
            href="./img/sammynatty.jpg"
            data-lightbox="supporters"
            data-title="Sammy Natty"
          >
            <img src="./img/sammynatty.jpg" alt="Sammy" />
          </a>
          <span>Sammy Natty</span>
        </div>
        <div class="supporter">
          <a
            href="./img/brownwebimage.jpeg"
            data-lightbox="supporters"
            data-title="Ubong Brown"
          >
            <img src="./img/brownwebimage.jpeg" alt="Ubong" />
          </a>
          <span>Ubong Brown</span>
        </div>
        <!-- Add more supporters as needed -->
      </div>
    </section>

    <footer>
      <h3>Copyright ¬© 2025 PropNetix Limited. All rights reserved.</h3>
      <p>
        <a href="terms-condition.html">Terms and Conditions</a> |
        <a href="privacy.html">Privacy Policy</a>
      </p>
    </footer>

    <!-- Toggle and Outside Click Script -->
    <script>
      const btn = document.getElementById("supporters-btn");
      const panel = document.getElementById("supporters-panel");

      btn.addEventListener("click", (e) => {
        e.stopPropagation(); // prevent closing immediately when clicking the button
        panel.classList.toggle("active");
      });

      // Hide panel on click outside
      document.addEventListener("click", (e) => {
        if (!panel.contains(e.target) && !btn.contains(e.target)) {
          panel.classList.remove("active");
        }
      });
    </script>
    <!-- Lightbox2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/lightbox2@2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="./JS(üì¢out of bounds)/hide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.dots.min.js"></script>
    <script>
      let vantaEffect = null;

      function initVanta(theme = "dark") {
        // Destroy if already exists
        if (vantaEffect) vantaEffect.destroy();

        // Create new one based on theme
        vantaEffect = VANTA.DOTS({
          el: "#vanta-bg",
          mouseControls: true,
          touchControls: true,
          gyroControls: false,
          minHeight: 200.0,
          minWidth: 200.0,
          scale: 1.0,
          scaleMobile: 1.0,
          color: theme === "light" ? 0x999999 : 0x666666,
          backgroundColor: theme === "light" ? 0xf2f2f2 : 0x0a0a0a,
          spacing: 50.0,
          showLines: false,
        });
      }
    </script>
    <script>
      const taglines = [
        "Your go-to marketplace ‚Äî everything you need, all in one place, no stress, no waiting.",
        "One marketplace. Every product. Every purpose. For everyone.",
        "Everything you need ‚Äî all in one place. Fast, simple, and built for everyone.",
        "Whatever you‚Äôre looking for, start here. One platform, endless possibilities.",
        "The stress-free marketplace made for speed, simplicity, and everyone.",
        "Your all-access pass to products, places, and possibilities ‚Äî in one seamless marketplace.",
      ];

      const taglineEl = document.getElementById("tagline");
      let current = 0;

      setInterval(() => {
        // Fade out
        taglineEl.classList.add("fade-out");

        // Wait for fade-out to finish before changing text
        setTimeout(() => {
          current = (current + 1) % taglines.length;
          taglineEl.textContent = taglines[current];
          taglineEl.classList.remove("fade-out");
        }, 600); // Match the transition duration in CSS
      }, 20000); // Change every 30 seconds

      const token = localStorage.getItem("token");

      const signupButton = document.getElementById("signupButton");
      const loginButton = document.getElementById("LoginButton");
      const profileButton = document.getElementById("profileButton");
      const logoutButton = document.getElementById("logoutButton");

      if (token) {
        signupButton.style.display = "none";
        loginButton.style.display = "none";
        profileButton.style.display = "inline-block";
        logoutButton.style.display = "inline-block";
      } else {
        signupButton.style.display = "inline-block";
        loginButton.style.display = "inline-block";
        profileButton.style.display = "none";
        logoutButton.style.display = "none";
      }

      logoutButton.addEventListener("click", function () {
        localStorage.removeItem("token");
        window.location.href = "index.html";
      });

      profileButton.addEventListener("click", function () {
        window.location.href = "profile.html";
      });
    </script>
    <script>
      // Get body and toggle button
      const icon = document.getElementById("theme-icon");
      const themeBtn = document.getElementById("theme-toggle");
      const body = document.body;

      // Load saved theme
      const savedTheme = localStorage.getItem("theme");
      if (savedTheme === "light") {
        body.classList.add("light");
        icon.className = "fas fa-moon"; // dark mode icon
        initVanta("light");
      } else {
        icon.className = "fas fa-sun"; // light mode icon
        initVanta("dark");
      }

      // Toggle theme and reinit Vanta
      themeBtn.addEventListener("click", () => {
       const isLight =  body.classList.toggle("light");

        const currentTheme = body.classList.contains("light")
          ? "light"
          : "dark";
        localStorage.setItem("theme", currentTheme);
        initVanta(currentTheme);
        icon.className = isLight ? "fas fa-moon" : "fas fa-sun";
      });
    </script>
  </body>
</html>
